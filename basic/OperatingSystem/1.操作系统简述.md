# 导论

# 1.1 操作系统的功能
### 1.1.1 用户视角
  从用户视角来看，操作系统主要为了用户使用方便，用户通过应用程序（编译器，数据库）等间接使用操作系统，而操作系统操控计算机硬件。
  
### 1.1.2  系统视角
  从系统视角来说，操作系统与硬件直接交互，主要为了解决资源分配（CPU，IO，内存，文件）。
  
# 1.2 什么是操作系统
  一直运行在计算机上的程序（内核）。  
  
# 1.3 计算机系统的组成
# 1.3.1 计算机系统的运行
  通电后，首先运行bootstrap（引导程序），这个程序一般位于内存。由bootstrap初始化各个计算机组件，为了完成这一目标，bootstrap必须定位
  操作系统，并且将操作系统加载到内存。
  操作系统加载到内存后，除了内核之外其他的系统程序也加载到内存成为系统进程，生命周期和操作系统一样。对于Unix，首个进程称为"Init"。
  事件的发生通过中断响应。中断可以通过硬件或者系统调用来实现。
  
# 1.3.2 计算机的存储结构
  一个典型的指令执行，首先从内存获得指令，并加载到指令寄存器，之后，指令寄存器被解码为机器码，然后被执行。
      
# 1.4 操作系统的运行
  操作系统通过中断驱动。

# 1.5 双重模式
  为了区分操作系统和用户，需要提供至少两种模式，即用户模式和内核模式。
  计算机硬件通过一个模式位来区别两种模式，0位内核模式，1为用户模式。当执行用户进程时，运用用户模式，当执行系统调用时，需要转换到内核模式。
  一旦有中断，操作系统就切换到内核模式进行处理。 
  
  另外，将可以引起损害的指令称为特权指令，并且硬件只有在内核模式下才能执行特权指令。
  
# 1.6 用户和操作系统交互

用户和操作系统交互有多种方法，常见的有命令解释程序和图形界面。

命令解释程序被当作一个特殊的程序，而多于多个可选命令解释程序的系统，解释程序称为 ***shell***。命令解释程序主要功能是获取并执行下一条用户的命令，包括文件删除创建等。


图形界面利用桌面的思想，实现了用户和操作系统的交互。

# 1.7 系统调用

系统调用提供了操作系统服务接口，通常用软中断来实现。对于大多数操作系统，都提供了API来实现系统调用的接口，上层程序员不需要了解具体的底层实现。

系统调用大致可以分为六大类：

* 进程控制

* 文件管理

* 设备管理

* 信息维护

* 通信

* 保护

     
    