# 地址解析协议ARP

在浏览器打开一个网页，本地计算机必须确定如何和相关的服务器联系。首先，它判断该服务是否在本地，也就是拥有相同的网络号。如果在远程，就需要一个可到达目的地的路由器。
假设这个服务就位于本地，其IP地址为10.0.0.1。

此时，在一个共享的链路层网段上，ARP向所有主机发送一个称为ARP请求的以太网帧，被称为链路层广播，询问10.0.0.1对应的mac地址。

通过ARP请求，系统内如果有主机给出应答，也就是对应的mac地址，发送方就知道了目的主机的mac地址。

之后，发送方直接将封装好的帧传送给目的主机。

# 4.1 ARP缓存

ARP高效运行的关键是维护每个主机和路由器上的ARP缓存表。IPV4地址对应其中的一个条目，正常到期时间是条目创建开始后的20分钟。

通过 arp -a 查看缓存内容。

对于完整的ARP条目，过期时间为20分钟，对于不完整的条目，则默认为3分钟。



