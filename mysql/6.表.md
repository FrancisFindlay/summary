# 表

# 4.1 索引组织表
  在InnoDB中，表按照主键的顺序组织存放。这种存储方式称为索引组织表。
  
  如果在创建表没有显示定义主键，那么InnoDB会先判断是否有非空的唯一索引，如果有，该列为主键。如果没有，InnoDB自动创建一个6B的指针作为隐式主键。
  
  当表中有多个非空唯一索引，InnoDB会选择建表时第一个定义的非空唯一索引作为主键。
  
      create table Z(
        A INT NOT NULL,
        B INT NULL,
        C INT NOT NULL,
        D INT NOT NULL,
        UNIQUE KEY(B),UNIQUE KEY(D),UNIQUE KEY(C)
      )
  
  在上面的表中，B由于允许null，所以D默认为主键。
# 4.2 InnoDB逻辑存储结构
  InnoDB把所有数据都放在一个空间，称为表空间。表空间由段，区，页组成。页有时被称为块。
  
# 4.2.1 表空间
  InnoDB默认有一个共享表空间，所有数据都放在这个表空间。用户可以开启innodb_file_per_table，每张表可以单独放到一个表空间。
  
  若开启了innodb_file_per_table，注意，每张表内的表空间存放的只是数据，索引，以及插入缓冲Bitmap页。其他的如回滚信息，插入缓冲索引页，系统事务，二次写缓存等还是存放在原来的共享空间。
  
# 4.2.2 段
  一个表空间由段组成，常见的有数据段，索引段，回滚段。InnoDB是索引组织的，因此数据即索引。那么，数据段即B+树的叶子节点，索引段为B+树的非叶子节点。
  
# 4.2.3 区
  区由连续的页组成，每个区大小为1MB。默认情况，每个页为16K，一个区有64个连续的页。

# 4.2.4 页
  默认大小为16K，也可以通过innodb_PAGE_SIZE 设置页的大小。
  
# 4.2.3 行
  InnoDB存储引擎是面向行的，数据按行存放。
  
  行溢出：对于varchar，mysql规定最大为65535B，但实际上，最大为65532B，因为还有其他开销。另外，这个65535是规定的一行数据的所有varchar的总和，如果总和超过65535，仍然无法创建。   
  
  另外，char（）类型，存放的是最大字符长度。
  
# 4.3 约束
           